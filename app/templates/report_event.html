{% extends 'organizer_layout/base.html' %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/report.css') }}">


<div class="container my-4">
    <h3 class="text-success fw-bold mb-4">üìä Th·ªëng k√™ s·ª± ki·ªán & doanh thu</h3>
    <!-- B·ªô l·ªçc nƒÉm & th√°ng -->
    <div class="d-flex justify-content-center align-items-center mb-4 gap-2">
        <!-- Ch·ªçn nƒÉm -->
        <select class="form-select filter-select w-auto">
            <option>-- Ch·ªçn nƒÉm --</option>
            <option>2023</option>
            <option>2024</option>
            <option>2025</option>
        </select>

        <!-- Ch·ªçn th√°ng -->
        <select class="form-select filter-select w-auto">
            <option>-- Ch·ªçn th√°ng --</option>
            <option>Th√°ng 1</option>
            <option>Th√°ng 2</option>
            <option>Th√°ng 3</option>
            <option>Th√°ng 4</option>
        </select>

        <!-- N√∫t l·ªçc -->
        <button class="btn btn-success">L·ªçc</button>
    </div>

    <!-- Th·ªëng k√™ nhanh -->
    <div class="row g-3 mb-4">
        <div class="col-md-6">
            <div class="stat-card text-center">
                <h5 class="text-secondary">T·ªïng s·ªë s·ª± ki·ªán</h5>
                <p class="stat-number text-success">12</p>
            </div>
        </div>
        <div class="col-md-6">
            <div class="stat-card text-center">
                <h5 class="text-secondary">T·ªïng doanh thu</h5>
                <p class="stat-number text-success">1.200.000.000 VND</p>
            </div>
        </div>
    </div>

    <!-- Bi·ªÉu ƒë·ªì -->
    <div class="row g-4">
        <div class="col-md-6">
            <div class="stat-card">
                <h6 class="mb-3">S·ª± ki·ªán theo th√°ng</h6>
                <canvas id="eventsChart"></canvas>
            </div>
        </div>
        <div class="col-md-6">
            <div class="stat-card">
                <h6 class="mb-3">Doanh thu theo th√°ng</h6>
                <canvas id="revenueChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    // D·ªØ li·ªáu m·∫´u
    const months = ["1", "2", "3", "4", "5", "6"];
    const eventsData = [2, 1, 3, 2, 4, 0];
    const revenueData = [200, 150, 400, 300, 120, 80];

    // Chart s·ª± ki·ªán
    new Chart(document.getElementById("eventsChart"), {
      type: "bar",
      data: {
        labels: months,
        datasets: [{
          label: "S·ªë s·ª± ki·ªán",
          data: eventsData,
          backgroundColor: "rgba(25,135,84,0.8)"
        }]
      },
      options: {
        scales: {
          y: {
            ticks: {
              color: "#fff",
              font: { size: 14, weight: "bold" }
            },
            grid: { color: "rgba(255,255,255,0.1)" }
          },
          x: {
            ticks: {
              color: "#fff",
              font: { size: 14, weight: "bold" }
            },
            grid: { color: "rgba(255,255,255,0.1)" }
          }
        }
      }
    });

    // Chart doanh thu
    new Chart(document.getElementById("revenueChart"), {
      type: "line",
      data: {
        labels: months,
        datasets: [{
          label: "Doanh thu (tri·ªáu VND)",
          data: revenueData,
          borderColor: "rgba(25,135,84,0.9)",
          backgroundColor: "rgba(25,135,84,0.2)",
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        scales: {
          y: {
            ticks: {
              color: "#fff",
              font: { size: 14, weight: "bold" }
            },
            grid: { color: "rgba(255,255,255,0.1)" }
          },
          x: {
            ticks: {
              color: "#fff",
              font: { size: 14, weight: "bold" }
            },
            grid: { color: "rgba(255,255,255,0.1)" }
          }
        }
      }
    });
</script>
{% endblock %}